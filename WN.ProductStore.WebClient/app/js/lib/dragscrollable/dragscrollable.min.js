/**
 * Created by qiushaohua on 14-4-16.
 * Copy from trello source.
 */
(function(c){c.fn.dragscrollable=function(b){var d=c.extend({acceptPropagatedEvent:!0,preventDefault:!0,fxIgnore:function(b){return!1}},b||{}),f={mouseDownHandler:function(b){if(!b.data.fxIgnore(b)){if(1!=b.which||!b.data.acceptPropagatedEvent&&b.target!=this)return!1;b.data.lastCoord={left:b.clientX,top:b.clientY};c.event.add(document,"mouseup",f.mouseUpHandler,b.data);c.event.add(document,"mousemove",f.mouseMoveHandler,b.data);if(b.data.preventDefault)return b.preventDefault(),!1}},mouseMoveHandler:function(b){var d=b.clientX-b.data.lastCoord.left,f=b.clientY-b.data.lastCoord.top;b.data.scrollable.scrollLeft(b.data.scrollable.scrollLeft()-d);b.data.scrollable.scrollTop(b.data.scrollable.scrollTop()-f);b.data.lastCoord={left:b.clientX,top:b.clientY};if(b.data.preventDefault)return b.preventDefault(),!1},mouseUpHandler:function(b){c.event.remove(document,"mousemove",f.mouseMoveHandler);c.event.remove(document,"mouseup",f.mouseUpHandler);if(b.data.preventDefault)return b.preventDefault(),!1}};this.each(function(){var b={scrollable:c(this),acceptPropagatedEvent:d.acceptPropagatedEvent,preventDefault:d.preventDefault,fxIgnore:d.fxIgnore};c(this).bind("mousedown",b,f.mouseDownHandler)})}})(jQuery);